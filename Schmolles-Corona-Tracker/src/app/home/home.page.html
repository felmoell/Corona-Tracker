<head>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.css">
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.js">
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous">
  </script>
</head>
<ion-header>
  <ion-item lines="full">
    <ion-label>
      Schmolles-Corona-Tracker
      
    </ion-label>
    <div slot="end"> {{user}}</div>
  </ion-item>
  <!--
  <ion-item lines="full">
    <ion-icon slot="start" name="moon"></ion-icon>
    <ion-label>
      Toggle Dark Theme
    </ion-label>
    <ion-toggle id="themeToggle" slot="end" [ngModel]="darkMode" (ionChange)="cambio()"></ion-toggle>
  </ion-item>
 -->
</ion-header>

<ion-content [fullscreen]="true">
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <script type="text/javascript">

  </script>


  <ion-grid>
    <ion-row>
      <ion-col size-xs="12" size-sm="12" size-md="6" size-lg="3">
        <ion-card id="card_1" class="card">
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">All cases of Covid-19</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p><b>New Confirmed: </b>{{this.overall.NewConfirmed}}</p>
            <p><b>New Deaths: </b>{{this.overall.NewDeaths}}</p>
            <p><b>New Recovered: </b>{{this.overall.NewRecovered}}</p>
            <hr>
            <p><b>Total Confirmed: </b>{{this.overall.TotalConfirmed}}</p>
            <p><b>Total Deaths: </b>{{this.overall.TotalDeaths}}</p>
            <p><b>Total Recovered: </b>{{this.overall.TotalRecovered}}</p>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size-xs="12" size-sm="12" size-md="6" size-lg="3">
        <ion-card class="card">
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">Most cases of Covid-19 in {{this.first.Country}}
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p><b>New Confirmed: </b>{{this.first.NewConfirmed}}</p>
            <p><b>New Deaths: </b>{{this.first.NewDeaths}}</p>
            <p><b>New Recovered: </b>{{this.first.NewRecovered}}</p>
            <hr>
            <p><b>Total Confirmed: </b>{{this.first.TotalConfirmed}}</p>
            <p><b>Total Deaths: </b>{{this.first.TotalDeaths}}</p>
            <p><b>Total Recovered: </b>{{this.first.TotalRecovered}}</p>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size-xs="12" size-sm="12" size-md="6" size-lg="3">
        <ion-card class="card">
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">Second most cases of Covid-19 in {{this.second.Country}}
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p><b>New Confirmed: </b>{{this.second.NewConfirmed}}</p>
            <p><b>New Deaths: </b>{{this.second.NewDeaths}}</p>
            <p><b>New Recovered: </b>{{this.second.NewRecovered}}</p>
            <hr>
            <p><b>Total Confirmed: </b>{{this.second.TotalConfirmed}}</p>
            <p><b>Total Deaths: </b>{{this.second.TotalDeaths}}</p>
            <p><b>Total Recovered: </b>{{this.second.TotalRecovered}}</p>
          </ion-card-content>
        </ion-card>
      </ion-col>
      <!---->
      <ion-col size-xs="12" size-sm="12" size-md="6" size-lg="3">
        <ion-card class="card">
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">Third most cases of Covid-19 in {{this.third.Country}}
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p><b>New Confirmed: </b>{{this.third.NewConfirmed}}</p>
            <p><b>New Deaths: </b>{{this.third.NewDeaths}}</p>
            <p><b>New Recovered: </b>{{this.third.NewRecovered}}</p>
            <hr>
            <p><b>Total Confirmed: </b>{{this.third.TotalConfirmed}}</p>
            <p><b>Total Deaths: </b>{{this.third.TotalDeaths}}</p>
            <p><b>Total Recovered: </b>{{this.data_sorted[2].TotalRecovered}}</p>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
    <ion-row>

      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="6">
        <ion-card>
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">Map of new confirmed cases</ion-card-title>
            <ion-label>Choose Region</ion-label>
            <ion-item>
              <ion-select (ionChange)="dropdownFunctionNewCases($event)">
                <ion-select-option *ngFor="let entry of dropdownOptionsNewCases" value="{{entry.id}}">
                  {{entry.val}}
                </ion-select-option>
              </ion-select>
            </ion-item>
          </ion-card-header>
          <ion-card-content>
            <google-chart [data]="NewCasesMap"></google-chart>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="6">
        <ion-card>
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">Map of all confirmed cases</ion-card-title>
            <ion-label>Choose Region</ion-label>
            <ion-item>
              <ion-select (ionChange)="dropdownFunctionAllCases($event)">
                <ion-select-option *ngFor="let entry of dropdownOptionsAllCases" value="{{entry.id}}">
                  {{entry.val}}
                </ion-select-option>
              </ion-select>
            </ion-item>
          </ion-card-header>
          <ion-card-content>
            <google-chart [data]="AllCasesMap"></google-chart>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row class="table-row">
      <ion-col size-xs="0" size-sm="0" size-md="12" size-lg="12" style="padding-left: unset;
      padding-right: unset;
      padding-inline-start: 16px;
      padding-inline-end: 16px;">
        <ngx-datatable class="material" [sortType]="'single'" [loadingIndicator]="loadingIndicator" [headerHeight]="50"
          [footerHeight]="50" [rows]="dataForTable" [columns]="columns" [columnMode]="'force'" [limit]="25"
          [reorderable]="reorderable" rowHeight="auto">
        </ngx-datatable>
      </ion-col>
    </ion-row>

    <ion-row class="nodata-row">
      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="12" style="padding-left: unset;">
        <ion-card>
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">No Table on mobile Devices</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p>The data is not available on mobile devices, please use a desktop to view this table.</p>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>


    <ion-row>
      <!-- class="table-row" -->
      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="6" style="padding-left: unset;">
        <ion-card>
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">Chart new confirmed cases</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <google-chart [data]="NewCasesChart" class="NewCasesChart"></google-chart>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="6" style="padding-left: unset;">
        <ion-card>
          <ion-card-header>
            <ion-card-title>Chart confirmed cases</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <google-chart [data]="AllCasesChart"></google-chart>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row class="nodata-row">
      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="12" style="padding-left: unset;">
        <ion-card>
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">No Table on mobile Devices</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p>The data is not available on mobile devices, please use a desktop to view this table.</p>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>


    <ion-row class="table-row">
      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="12" style="padding-left: unset;">
        <ion-card>
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">Confirmed cases in {{selected_country}} since 2020-01-22
            </ion-card-title>
            <ion-item>
              <ion-label>Choose Country</ion-label>
              <ion-select (ionChange)="dropdownFunctionCountry($event)">
                <ion-select-option *ngFor="let entry of dropdownOptionsCountry" value="{{entry.id}}">
                  {{entry.val}}
                </ion-select-option>
              </ion-select>
            </ion-item>
          </ion-card-header>
          <ion-card-content>
            <h1 id="no_data_country" style="color: red; visibility: hidden;">No Data</h1>
            <google-chart id="error_country_select" [data]='CasesChartLineFR' (chartError)='error($event)'>
            </google-chart>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>


    <ion-row class="table-row">
      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="12" style="padding-left: unset;">
        <ion-card>
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">Confirmed cases in {{selected_country}} since 2020-01-22
            </ion-card-title>
            <ion-item>
              <ion-label>Choose Country</ion-label>
              <ion-select (ionChange)="dropdownFunctionCountryColumn($event)">
                <ion-select-option *ngFor="let entry of dropdownOptionsCountryColumn" value="{{entry.id}}">
                  {{entry.val}}
                </ion-select-option>
              </ion-select>
            </ion-item>
          </ion-card-header>
          <ion-card-content>
            <google-chart id="error_country_select" [data]='CasesChartColumn' (chartError)='error($event)'>
            </google-chart>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row class="nodata-row">
      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="12" style="padding-left: unset;">
        <ion-card>
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">No Table on mobile Devices</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p>The data is not available on mobile devices, please use a desktop to view this table.</p>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>


    <ion-row class="table-row">
      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="12" style="padding-left: unset;">
        <ion-card>
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">Added new cases in {{selected_country}} since 2020-01-22
            </ion-card-title>
            <ion-item>
              <ion-label>Choose Country</ion-label>
              <ion-select (ionChange)="dropdownFunctionCountryAddedCases($event)">
                <ion-select-option *ngFor="let entry of dropdownOptionsAddedCases" value="{{entry.id}}">
                  {{entry.val}}
                </ion-select-option>
              </ion-select>
            </ion-item>
          </ion-card-header>
          <ion-card-content>
            <google-chart id="error_country_select" [data]='CasesAddedCases' (chartError)='error($event)'>
            </google-chart>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row class="nodata-row">
      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="12" style="padding-left: unset;">
        <ion-card>
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">No Table on mobile Devices</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p>The data is not available on mobile devices, please use a desktop to view this table.</p>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row class="data-row-mobile">
      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="12" style="padding-left: unset;">
        <ion-card>
          <ion-card-header>
            <ion-card-title class="data-row-mobile-header">Table on mobile Devices</ion-card-title>
            <ion-searchbar (ionChange)="onSearchTerm($event)" placeholder="search..."></ion-searchbar>
          </ion-card-header>
          <ion-card-content>
            <nav class="accordion arrows">
              <div *ngFor="let item of all_countries;let i = index">
                <input type="radio" name="accordion" id='cb_{{item.CountryCode}}' />
                <section class="box">
                  <label class="box-title" for='cb_{{item.CountryCode}}'>Data for {{item.Country}}</label>
                  <label class="box-close" for="acc-close"></label>
                  <div class="box-content">
                    <p> <b>New Confirmed: </b>{{item.NewConfirmed}}</p>
                    <p> <b>New Deaths: </b>{{item.NewDeaths}}</p>
                    <p> <b>New Recovered: </b>{{item.NewRecovered}}</p>
                    <hr>
                    <p> <b>Total Confirmed: </b>{{item.TotalConfirmed}}</p>
                    <p> <b>Total Deaths: </b>{{item.TotalDeaths}}</p>
                    <p> <b>Total Recoverd: </b>{{item.TotalRecovered}}</p>
                  </div>
                </section>
                <input type="radio" name="accordion" id="acc-close" />
              </div>
            </nav>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="12" style="padding-left: unset;">
        <ion-card>



        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <div class="noti" id="noti">
    <div class="rectangle">
      <div class="notification-text">
        <ion-icon name="information-circle"></ion-icon>
        <span>&nbsp;&nbsp;Data from: <a href="https://covid19api.com/" style="color: white;"
            target="_blank">https://covid19api.com/</a></span>
        <ion-icon name="close" style="position: absolute; right: 10px; cursor: pointer;" (click)="closeNoti()">
        </ion-icon>

      </div>
    </div>
  </div>
</ion-content>